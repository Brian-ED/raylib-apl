#!/usr/bin/env bqn
âŸ¨ParseHeader,ToFFI,HeaderToFFIâŸ© â† â€¢Import "parseAPL.bqn"
file â† â€¢FChars "../lib/raylib.h"
file ParseHeaderËœâ†© "RLAPI"

definesâ€¿structsâ€¿aliasesâ€¿enumsâ€¿callbacksâ€¿functionsâ†file
funcNameâ€¿returnTypes â† <Ë˜â‰>{funcNameâ€¿descriptionâ€¿retTypeâ€¿argTypesâ€¿args: funcNameâ€¿retType}Â¨functions

sLines â† 0Â¨functions
s2Lines â† "void"âŠ¸â‰¢Â¨funcNameâ‹âŠ¸âŠreturnTypes
!Â¬âˆ¨Â´s2Linesâˆ§sLines # I don't want the lines to collide

[namesâ‹„commentâ‹„outTypeâ‹„argNamesâ‹„argTypes] â†  â‰(1+s2Linesâˆ¨sLines)/funcNameâ‹âŠ¸âŠ>functions

s1LinesExtendedâ€¿s2LinesExtended â† s2Lines{((+Â´+â‰ )ğ•©+ğ•¨)â†‘ğ•¨âŠ¸{(Â¬ğ•©âˆŠ/ğ•¨)/ğ•©+â†•â‰ ğ•©}âŒ¾/ğ•¨+ğ•©}{ğ”½â‹ˆğ”½Ëœ}sLines

(1+s2Linesâˆ¨sLines)â€¿[
  s2LinesExtended
  s1LinesExtended
  names
  argNames
  outType
  argTypes
] â€¢Import "auto-error/auto-errors.bqn"

file ToFFIâ†©

file âˆ¾âŸœ("AfterDefaultDefinitions mode"âˆ¾@+10)âŒ¾(âˆ¾âŸœ"âˆ‡"â¼)â†©
file âˆ¾Ëœâ†© ":Namespace raylib"âˆ¾@+10
file âˆ¾ â†© ":EndNamespace"âˆ¾Ëœ@+10
file âˆ¾â†© @+10
destination â† "../link/raylib.apln"
destination â€¢FChars file
â€¢Out destinationâˆ¾" successfully generated"
