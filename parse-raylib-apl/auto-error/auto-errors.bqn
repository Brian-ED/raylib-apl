[
  namesâ‹„argNamesâ‹„outTypeâ‹„argTypes
] â† â€¢args

json â† â€¢Import "../../imports/c-header-to-bqn-ffi/json.bqn"
outâ†âŸ¨âŸ©

fmtâ†"scopes"â€¿"functions"
scopesâ€¿functions â† âŠâŸœfmtâŠ¸âŠËjson.Parse â€¢FChars "auto-error.json"

[beginâ‹„endâ‹„nestedâ‹„scopeDoc] â‡ {
  â‰>âŠâŸœğ•©âŠ¸âŠËÂ¨scopes
}"begin"â€¿"end"â€¿"nested"â€¿"doc"
nested âŠËœâ†© "false"â‹ˆâ—‹<"true" # Turn json booleans into binary

[nameâ‹„allowâ‹„disallowâ‹„funcDoc] â‡ {â‹âˆ˜âŠâŠ¸(âŠâ‰1)ğ•©} {
  â‰>âŠâŸœğ•©âŠ¸âŠËÂ¨functions
}"name"â€¿"allowed cases"â€¿"disallowed cases"â€¿"doc"

# Define Assert. Needed for erroring
out âˆ¾â†©<"Assert â† {âºâ†'assertion failure' â‹„ 0âˆŠâµ:âº â•SIGNAL 8 â‹„ shyâ†0}"

# Defining scope status variables
@âˆ˜{ğ•ŠâŸ¨bâŸ©:
  outâˆ¾â†©<"scope"âˆ¾bâˆ¾" â† 0"
}Ë˜â‰[begin]

# Spacing to separate variable definitions section from Tradfns definition
outâˆ¾â†©""â€¿""

# When the first argument is a pointer, it's usually a reference as return value.
# Useful since if first arg is a pointer, the function has a return value.
returnViaRef â† '*'={âŠ¢Â´âŠ‘ğ•©âˆ¾<" "}Â¨argTypes

# Adding Tradfns with assertions
@âˆ˜{ğ•ŠâŸ¨n,aw,daw,an,râŸ©:
  arg â† "_"âŸ(0=â‰ )1â†“âˆ¾' 'âˆ¾Â¨an
  outâˆ¾â†©<'âˆ‡'âˆ¾"râ†"âŠ¸âˆ¾âŸr nâˆ¾(' 'âŠ¸âˆ¾"("âˆ¾â¼âˆ¾âŸœ")"â¼)âŸ(Ã—âˆ˜â‰ âˆ§âˆ§Â´âˆ˜â‰ âŸœ' ') ('('âˆ¾âˆ¾âŸœ')')âŸ(Ã—â‰ ) arg
  {ğ•Š:outâˆ¾â†©<"    '"âˆ¾nâˆ¾" errored' Assert âˆ¨/"âˆ¾ğ•©}âŸ(Â¬"()"âŠ¸â‰¡) "("âˆ¾")"âˆ¾Ëœ3â†“âˆ¾{") ("âˆ¾3â†“âˆ¾" âˆ§ scope"âŠ¸âˆ¾Â¨ğ•©}Â¨aw
  {ğ•Š:outâˆ¾â†©<"    '"âˆ¾nâˆ¾" errored' Assert âˆ§/"âˆ¾ğ•©}âŸ(Â¬"()"âŠ¸â‰¡) "("âˆ¾")"âˆ¾Ëœ3â†“âˆ¾{") ("âˆ¾3â†“âˆ¾" âˆ¨ scope"âŠ¸âˆ¾Â¨ğ•©}Â¨daw
  {ğ•Š:outâˆ¾â†©<"    '"âˆ¾nâˆ¾" errored' Assert ~scope"âˆ¾âŠ‘1âŠ‘ğ•©â‹„!1â‰¡â‰ 1âŠ‘ğ•©}âŸ(Â¬âˆ§Â´âˆ˜âŠ‘)(nâŠ¸â‰¡Â¨begin)âŠ¸/Â¨nestedâ€¿begin
  {ğ•Š:outâˆ¾â†©<"    scope"âˆ¾ğ•©âˆ¾" â† 1"}âˆ˜âŠ‘âŸ(Ã—â‰ ) begin/ËœnâŠ¸â‰¡Â¨begin
  {ğ•Š:outâˆ¾â†©<"    scope"âˆ¾ğ•©âˆ¾" â† 0"}âˆ˜âŠ‘âŸ(Ã—â‰ ) begin/ËœnâŠ¸â‰¡Â¨end
  outâˆ¾â†©"âˆ‡"â‹ˆËœ"    "âˆ¾(râŠ‘"_â†"â€¿"râ†")âˆ¾ (nâˆ¾"RAYLIB")âˆ¾ (Â¬Ã—âˆ˜â‰ âˆ§âˆ§Â´âˆ˜â‰ âŸœ' ')â—¶âŸ¨' 'âŠ¸âˆ¾â‹„'('âˆ¾âˆ¾âŸœ')'âŸ© arg

}Ë˜â‰ [
  name
  allow
  disallow
  argNames
  returnViaRefâˆ¨"void"âŠ¸â‰¢Â¨outtype
]

outâˆ¾Ëœâ†©":Namespace replacements"â€¿""
outâˆ¾â†©""â€¿":EndNamespace"

"../../link/replacements.apln.hide" â€¢FLines out
